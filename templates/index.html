<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å“¡å·¥æ‰“å¡çµ±è¨ˆ</title>
    <style>
        body { font-family: "å¾®è»Ÿæ­£é»‘é«”"; margin: 40px; background-color: #f8f9fa; }
        input, button { font-size: 16px; padding: 6px 10px; }
        table { border-collapse: collapse; width: 100%; margin-top: 20px; background-color: #fff; }
        th, td { border: 1px solid #aaa; padding: 8px; text-align: center; }
        th { background-color: #d0ebff; }
        h2, h3 { color: #333; }
        .summary { margin-top: 20px; font-size: 18px; font-weight: bold; color: #0077b6; }
    </style>
</head>
<body>
    <h2>ğŸ“Š å“¡å·¥ç•¶æœˆæ‰“å¡çµ±è¨ˆ</h2>
    <form method="POST">
        <label>èº«åˆ†è­‰å­—è™Ÿï¼š</label>
        <input type="text" name="nid" value="{{ nid }}" placeholder="è¼¸å…¥èº«åˆ†è­‰å­—è™Ÿ" required>
        <button type="submit">æŸ¥è©¢æœ¬æœˆè³‡æ–™</button>
    </form>

    {% if records %}
    <h3>æŸ¥è©¢çµæœï¼š</h3>
    <table>
        <tr>
            <th>å§“å</th>
            <th>ä¸Šç­æ™‚é–“</th>
            <th>ä¸‹ç­æ™‚é–“</th>
            <th>å·¥æ™‚(å°æ™‚)</th>
            <th>åˆ†é˜</th>
        </tr>
        {% for r in records %}
        <tr>
            <td>{{ r.name }}</td>
            <td>{{ r.service_start }}</td>
            <td>{{ r.service_end or 'å°šæœªä¸‹ç­' }}</td>
            <td>{{ r.service_hours or 0 }}</td>
            <td>{{ r.service_minutes or 0 }}</td>
        </tr>
        {% endfor %}
    </table>

    <div class="summary">
        ğŸ§® æœ¬æœˆç¸½å·¥æ™‚ï¼š{{ total_hours }} å°æ™‚ {{ total_minutes }} åˆ†
    </div>

    {% elif nid %}
    <p>âŒ æ²’æœ‰æ‰¾åˆ°æœ¬æœˆè³‡æ–™ã€‚</p>
    {% endif %}
</body>
</html>
